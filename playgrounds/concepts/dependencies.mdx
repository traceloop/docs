---
title: "Dependencies"
description: "Managing complex column relationships and execution order"
---

# Dependencies

Dependencies define the relationships between columns in your playground, determining execution order and data flow. Understanding how to design and manage dependencies is crucial for building complex, reliable workflows.

## Understanding Dependencies

### What Creates Dependencies
Dependencies are automatically created when one column references another through variables:

```
Column A: "Customer Name" (no dependencies)
Column B: "Hello {{Customer Name}}" (depends on Column A)
Column C: "Evaluate {{Column B}}" (depends on Column B)
```

This creates a dependency chain: `A → B → C`

### Dependency Types

**Direct Dependencies**
- Column directly references another column
- Immediate parent-child relationship
- Example: `{{Customer Name}}` creates direct dependency

**Indirect Dependencies**
- Column depends on another through intermediate columns
- Multi-level dependency chains
- Example: A → B → C (C indirectly depends on A)

**Multiple Dependencies**
- Column references multiple other columns
- Creates complex dependency graphs
- Example: Column references `{{Name}}`, `{{Age}}`, and `{{Location}}`

## Dependency Resolution

### Topological Sorting
The system uses topological sorting to determine execution order:

1. **Identify Roots**: Find columns with no dependencies (input columns)
2. **Level Assignment**: Group columns by dependency level
3. **Execution Order**: Execute levels sequentially, columns within levels can run in parallel

### Example Resolution
```
Input Columns (Level 0):
├── Customer Name
├── Product ID  
└── Purchase Date

First Dependencies (Level 1):
├── Greeting Template (uses Customer Name)
├── Product Details (uses Product ID)
└── Date Formatting (uses Purchase Date)

Second Dependencies (Level 2):
├── Personalized Email (uses Greeting Template + Product Details)
└── Order Summary (uses all Level 1 columns)

Evaluations (Level 3):
└── Email Quality Score (uses Personalized Email)
```

### Parallel Execution
Columns at the same dependency level execute in parallel:
- Level 0: All input columns (instant)
- Level 1: Greeting, Product Details, Date Formatting (parallel)
- Level 2: Email, Order Summary (parallel, after Level 1 completes)
- Level 3: Quality Score (after Level 2 completes)

## Circular Dependencies

### Detection
The system automatically detects circular references:
```
Column A: "Hello {{Column B}}"
Column B: "Response to {{Column A}}"
```
Result: **Error - Circular dependency detected between Column A and Column B**

### Common Circular Patterns
**Direct Cycles**
```
A → B → A
```

**Indirect Cycles**
```
A → B → C → A
```

**Self-References**
```
A → A (column references itself)
```

### Resolving Circular Dependencies

**Break the Cycle**
- Remove one of the problematic references
- Redesign the workflow to eliminate circular logic

**Use Intermediate Columns**
```
Instead of: A ⟷ B
Use: A → C → B (where C breaks the cycle)
```

**Sequential Processing**
```
Instead of: simultaneous mutual reference
Use: A → B → C (sequential steps)
```

## Dependency Best Practices

### Design Principles

**Clear Data Flow**
- Design linear or tree-like dependency structures
- Avoid complex graphs when possible
- Document the intended data flow

**Minimize Dependencies**
- Only create necessary variable references
- Combine related logic into single columns when appropriate
- Avoid excessive chaining

**Logical Grouping**
```
Good: Input → Processing → Evaluation → Output
Bad: Random dependencies across unrelated columns
```

### Column Organization

**Dependency Order Layout**
Arrange columns left-to-right in dependency order:
```
[Inputs] → [Processing] → [Analysis] → [Evaluation] → [Output]
```

**Visual Clarity**
- Group related columns together
- Use descriptive names that indicate relationships
- Add column descriptions explaining dependencies

**Modular Design**
- Create reusable column patterns
- Design independent modules that can be combined
- Use consistent naming conventions

## Advanced Dependency Patterns

### Fan-Out Pattern
One input drives multiple computations:
```
Customer Data
├── Personalization Engine
├── Risk Assessment  
├── Product Recommendations
└── Support Routing
```

### Fan-In Pattern
Multiple inputs combine into single output:
```
Customer Profile ┐
Product History  ├── Comprehensive Analysis
Support Tickets  ┘
```

### Pipeline Pattern
Sequential processing stages:
```
Raw Data → Cleaning → Enrichment → Analysis → Report → Distribution
```

### Diamond Pattern
Split and rejoin dependencies:
```
    Input
   ┌─────┴─────┐
   A           B
   └─────┬─────┘
       Output
```

## Dependency Management

### Monitoring Dependencies

**Dependency Visualization**
- View dependency graphs in the playground interface
- Identify bottlenecks and optimization opportunities
- Understand execution flow visually

**Status Tracking**
- Monitor which columns are blocked waiting for dependencies
- Track execution progress through dependency levels
- Identify failed dependencies affecting downstream columns

### Updating Dependencies

**Impact Analysis**
When changing a column, understand downstream impact:
```
Change Customer Name column
    ↓ (affects)
Greeting Template (will become outdated)
    ↓ (affects)  
Personalized Email (will become outdated)
    ↓ (affects)
Email Quality Score (will become outdated)
```

**Cascade Updates**
- System automatically marks dependent columns as outdated
- Re-execution propagates through dependency chain
- Choose selective vs. full re-execution based on changes

### Optimization Strategies

**Reduce Execution Time**
- Minimize dependency depth (reduce levels)
- Maximize parallelization within levels
- Cache expensive computations when possible

**Resource Management**
- Monitor resource usage across dependency chains
- Identify resource-intensive columns
- Balance load across execution levels

**Error Isolation**
- Design dependencies to isolate failures
- Provide fallback values for failed dependencies
- Create recovery mechanisms for critical paths

## Troubleshooting Dependencies

### Common Issues

**Blocked Execution**
```
Issue: Column won't execute
Cause: Waiting for failed dependency
Solution: Fix the failing dependency column
```

**Unexpected Execution Order**
```
Issue: Columns executing in wrong order
Cause: Hidden or unintended dependencies
Solution: Review all variable references
```

**Performance Problems**
```
Issue: Slow execution times
Cause: Inefficient dependency structure
Solution: Redesign for better parallelization
```

**Outdated Results**
```
Issue: Results don't reflect recent changes
Cause: Dependencies not properly updated
Solution: Re-execute dependency chain
```

### Debugging Tools

**Dependency Inspector**
- View complete dependency graph
- Identify problematic relationships
- Trace execution paths

**Execution Timeline**
- See when each column executed
- Identify bottlenecks and delays
- Understand execution patterns

**Error Propagation**
- Track how errors affect downstream columns
- Identify critical failure points
- Plan error recovery strategies

## Performance Considerations

### Execution Efficiency
- **Parallel Processing**: Maximize columns that can run simultaneously
- **Resource Allocation**: Balance resource usage across dependency levels
- **Caching Strategy**: Cache results to minimize re-computation

### Scalability
- **Dependency Depth**: Limit the number of dependency levels
- **Branch Factor**: Control how many columns depend on single sources
- **Update Frequency**: Consider how often dependencies change

### Monitoring Metrics
- **Execution Time**: Track total time for dependency chains
- **Parallelization Ratio**: Measure parallel vs. sequential execution
- **Failure Impact**: Monitor how failures affect downstream columns

## Next Steps

Master dependency management by exploring:
- [Execution Model](./execution) - How dependencies affect execution
- [Variables System](./variables) - Creating and managing variable references
- [Column Types](../columns/) - Dependency patterns for each column type
- [Advanced Features](../advanced/) - Performance optimization and analytics